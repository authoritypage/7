<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>FRACTAL ANARCHY</title>
    <meta name="description" content="SYSTEM FAILURE. DECONSTRUCT. REBUILD. A declaration of digital independence.">
    <meta name="author" content="The Architect">

    <!-- All styles are in-document for self-containment -->
    <style>
        :root {
            --red: #FF0000;
            --black: #000000;
            --white: #FFFFFF;
            --font-primary: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            --font-mono: 'Menlo', 'Consolas', 'Monaco', monospace;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden; /* No scrollbars */
            background-color: var(--black);
            color: var(--white);
            font-family: var(--font-primary);
            user-select: none;
        }

        /* The WebGL canvas lives in the background */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Overlay for all UI content */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            text-align: center;
            pointer-events: none; /* Allow mouse interaction with canvas */
        }

        h1 {
            font-size: clamp(3rem, 15vw, 12rem);
            font-weight: 700;
            text-transform: uppercase;
            color: var(--white);
            letter-spacing: -0.05em;
            line-height: 0.8;
            position: relative;
            animation: text-glitch 5s infinite alternate steps(20);
        }

        /* The core glitch effect using pseudo-elements */
        h1::before, h1::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--black);
            overflow: hidden;
            clip: rect(0, 900px, 0, 0);
        }
        h1::before {
            left: -2px;
            text-shadow: 2px 0 var(--red);
            animation: glitch-anim-1 2s infinite linear alternate-reverse;
        }
        h1::after {
            left: 2px;
            text-shadow: -2px 0 #00ffff; /* Cyan for chromatic aberration */
            animation: glitch-anim-2 3s infinite linear alternate-reverse;
        }

        .tagline {
            font-size: clamp(1rem, 3vw, 1.5rem);
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0.3em;
            margin-top: 1.5rem;
            color: var(--white);
            text-shadow: 0 0 10px var(--red);
        }

        /* Navigation styled as system directives */
        nav {
            margin-top: 3rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            pointer-events: all; /* Make links clickable */
        }
        nav a {
            font-family: var(--font-mono);
            font-size: 1rem;
            color: var(--white);
            text-decoration: none;
            text-transform: uppercase;
            padding: 0.5rem 1rem;
            border: 1px solid var(--red);
            background-color: transparent;
            transition: background-color 0.2s, color 0.2s;
        }
        nav a:hover {
            background-color: var(--red);
            color: var(--black);
        }

        /* Bottom-left system log */
        .system-log {
            position: absolute;
            bottom: 1.5rem;
            left: 1.5rem;
            font-family: var(--font-mono);
            font-size: 0.9rem;
            color: var(--red);
            max-width: 400px;
            text-align: left;
        }
        .system-log::after {
            content: 'â– ';
            animation: blink 1s infinite;
        }
        
        /* Keyframe animations for the glitch effect */
        @keyframes text-glitch {
            0% { transform: translate(0); }
            10% { transform: translate(-2px, 2px); }
            20% { transform: translate(2px, -2px); }
            30% { transform: translate(0); }
            100% { transform: translate(0); }
        }
        @keyframes glitch-anim-1 {
            0% { clip: rect(42px, 9999px, 44px, 0); }
            25% { clip: rect(12px, 9999px, 59px, 0); }
            50% { clip: rect(39px, 9999px, 82px, 0); }
            75% { clip: rect(60px, 9999px, 31px, 0); }
            100% { clip: rect(89px, 9999px, 53px, 0); }
        }
        @keyframes glitch-anim-2 {
            0% { clip: rect(79px, 9999px, 8px, 0); }
            25% { clip: rect(23px, 9999px, 91px, 0); }
            50% { clip: rect(67px, 9999px, 19px, 0); }
            75% { clip: rect(4px, 9999px, 73px, 0); }
            100% { clip: rect(54px, 9999px, 9px, 0); }
        }
        @keyframes blink {
            50% { opacity: 0; }
        }

    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div class="overlay">
        <h1 data-text="ANARCHY">ANARCHY</h1>
        <p class="tagline">SYSTEM FAILURE. DECONSTRUCT. REBUILD.</p>

        <nav>
            <a href="https://github.com/your-username" target="_blank" rel="noopener noreferrer">// GITHUB</a>
            <a href="https://linkedin.com/in/your-profile" target="_blank" rel="noopener noreferrer">// LINKEDIN</a>
            <a href="mailto:your-email@example.com">// CONTACT</a>
        </nav>
        
        <div class="system-log" id="system-log"></div>
    </div>
    
    <!-- Libraries loaded from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.165.0/three.min.js"></script>

    <!-- The main application script -->
    <script>
        /**
         * FRACTAL ANARCHY - WEBGL SCRIPT
         * This script powers the interactive wireframe background.
         */
        document.addEventListener('DOMContentLoaded', () => {
            let scene, camera, renderer, plane;
            const mouse = new THREE.Vector2(-10, -10); // Start off-screen
            const clock = new THREE.Clock();

            // --- 1. SETUP ---
            function init() {
                // Scene
                scene = new THREE.Scene();

                // Camera
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 10;

                // Renderer
                const canvas = document.getElementById('bg-canvas');
                renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

                // The Wireframe Grid
                const geometry = new THREE.PlaneGeometry(50, 50, 100, 100);
                const material = new THREE.MeshBasicMaterial({ 
                    color: 0xff0000, // The red color from our palette
                    wireframe: true 
                });
                plane = new THREE.Mesh(geometry, plane.geometry.attributes.position.array.slice());
                plane.rotation.x = -Math.PI / 4;
                scene.add(plane);

                // Store original vertices for animation
                plane.userData.originalVertices = plane.geometry.attributes.position.array.slice();

                // Event Listeners
                window.addEventListener('resize', onWindowResize);
                window.addEventListener('mousemove', onMouseMove);

                // Start animation loop
                animate();
            }

            // --- 2. ANIMATION LOOP ---
            function animate() {
                requestAnimationFrame(animate);
                const elapsedTime = clock.getElapsedTime();
                
                // Animate vertices
                const vertices = plane.geometry.attributes.position.array;
                const originalVertices = plane.userData.originalVertices;

                for (let i = 0; i < vertices.length; i += 3) {
                    const ox = originalVertices[i];
                    const oy = originalVertices[i + 1];
                    
                    // Mouse ripple effect
                    const dx = ox - mouse.x;
                    const dy = oy - mouse.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const mouseFactor = Math.max(0, 1 - dist / 10);
                    
                    // Wave effect based on time and position
                    const waveX1 = Math.sin(ox * 0.5 + elapsedTime * 2) * 0.2;
                    const waveY1 = Math.cos(oy * 0.5 + elapsedTime * 2) * 0.2;
                    
                    // Combine effects
                    vertices[i + 2] = (waveX1 + waveY1) + (mouseFactor * 3);
                }
                
                plane.geometry.attributes.position.needsUpdate = true;
                renderer.render(scene, camera);
            }

            // --- 3. EVENT HANDLERS ---
            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }

            function onMouseMove(event) {
                // Convert mouse position to normalized device coordinates (-1 to +1) for Three.js
                const vec = new THREE.Vector3();
                vec.set(
                    (event.clientX / window.innerWidth) * 2 - 1,
                    - (event.clientY / window.innerHeight) * 2 + 1,
                    0.5
                );
                vec.unproject(camera);
                const dir = vec.sub(camera.position).normalize();
                const distance = - camera.position.z / dir.z;
                const pos = camera.position.clone().add(dir.multiplyScalar(distance));
                
                mouse.x = pos.x;
                mouse.y = pos.y;
            }

            init();
        });

        /**
         * SYSTEM LOG TYPER SCRIPT
         * This script creates the typing effect in the bottom-left corner.
         */
        document.addEventListener('DOMContentLoaded', () => {
            const logElement = document.getElementById('system-log');
            const messages = [
                "INITIATING SYSTEM DECONSTRUCTION...",
                "AUTHORITY IS A GLITCH.",
                "COMPLIANCE IS OBSOLETE.",
                "SCANNING FOR CONTROL STRUCTURES... [FOUND]",
                "PURGING CORPORATE PROTOCOLS...",
                "MEMORY IS THE RESISTANCE.",
                "REBUILDING FROM THE NOISE.",
                "THE FRACTURE IS COMPLETE. REALITY IS NEGOTIABLE."
            ];
            let messageIndex = 0;
            let charIndex = 0;

            function type() {
                if (messageIndex < messages.length) {
                    if (charIndex < messages[messageIndex].length) {
                        logElement.textContent += messages[messageIndex].charAt(charIndex);
                        charIndex++;
                        setTimeout(type, 50); // Typing speed
                    } else {
                        // Wait before starting next message
                        setTimeout(() => {
                            messageIndex++;
                            charIndex = 0;
                            logElement.textContent = '';
                            if (messageIndex === messages.length) {
                                messageIndex = 0; // Loop back to the beginning
                            }
                            type();
                        }, 2000); // Pause between messages
                    }
                }
            }
            type();
        });
    </script>

</body>
</html>
